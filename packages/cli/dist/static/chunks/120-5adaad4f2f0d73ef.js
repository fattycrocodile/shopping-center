"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[120],{2991:function(e,o,a){a.d(o,{Z:function(){return u}});var t=a(2322),r=a(4091),s=a.n(r),n=a(9097),i=a.n(n),c=a(2784),d=a(9909),l=function(e){var o=e.content,a=e.trigger,r=(0,c.useState)(!1),n=r[0],i=r[1],l=(0,c.useCallback)((function(e){"Escape"===e.key&&i(!1)}),[]);return(0,c.useEffect)((function(){return document.addEventListener("keydown",l,!1),function(){document.removeEventListener("keydown",l,!1)}}),[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Popover,{onClickOutside:function(){return i(!1)},isOpen:n,positions:["bottom","left"],content:function(e){var a=e.position,r=e.childRect,s=e.popoverRect;return(0,t.jsx)(d.ArrowContainer,{position:a,childRect:r,popoverRect:s,arrowColor:"#333",arrowSize:6,className:"popover-arrow-container",arrowClassName:"popover-arrow",children:(0,t.jsx)("div",{className:"jsx-15582e1f462d57b8 popover",children:o})})},padding:4,children:a(n,i)}),n&&(0,t.jsx)("div",{onClick:function(){return i(!1)},className:"jsx-15582e1f462d57b8 overlay"}),(0,t.jsx)(s(),{id:"15582e1f462d57b8",children:".popover.jsx-15582e1f462d57b8{background:#333;color:white;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;padding:16px;margin-right:24px}.overlay.jsx-15582e1f462d57b8{position:absolute;top:65px;right:0;left:0;bottom:0;opacity:0}"})]})},f=a(8788),x=a(4776),b=a.n(x),p=function(e){var o=e.html,a=e.previewFunction,r=e.previewClass,n=(0,c.useState)(null),i=n[0],d=n[1],l=(0,c.useState)(null),x=l[0],p=l[1],u=(0,c.useState)(null),m=u[0],h=u[1],j=(0,c.useState)(!1),g=j[0],w=j[1];(0,c.useEffect)((function(){if(!i){d(window.localStorage.getItem("previewSenderEmail"));var e=window.localStorage.getItem("previewSenderLastSentAt");e&&h(new Date(e))}}),[]);var k=(0,c.useCallback)(function(){var e=(0,f.Z)(b().mark((function e(s){var n,c,d,l;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),i){e.next=3;break}return e.abrupt("return");case 3:return window.localStorage.setItem("previewSenderEmail",i),e.prev=4,w(!0),n={to:i,html:o,previewFunction:a,previewClass:r,subject:"".concat(r," - ").concat(a)},e.next=9,fetch("/previews/send.json",{method:"POST",body:JSON.stringify(n)});case 9:return c=e.sent,e.next=12,c.json();case 12:(d=e.sent).error||c.status>=300?(h(null),p((0,t.jsx)(t.Fragment,{children:d.error||"Unknown error, check your console"}))):(p(null),l=new Date,h(l),window.localStorage.setItem("previewSenderLastSentAt",l.toJSON())),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(4),console.error(e.t0),h(null),window.localStorage.removeItem("previewSenderLastSentAt");case 21:return e.prev=21,w(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[4,16,21,24]])})));return function(o){return e.apply(this,arguments)}}(),[i]),v=(0,c.useCallback)((function(e){d(e.target.value)}),[]);return(0,t.jsxs)("div",{className:"jsx-cfe44b7f29885685 container",children:[(0,t.jsx)("h3",{className:"jsx-cfe44b7f29885685",children:"Send a test email"}),!m&&(0,t.jsxs)("div",{className:"jsx-cfe44b7f29885685 subtitle",children:["To start sending emails, you must configure a transport in"," ",(0,t.jsx)("span",{className:"jsx-cfe44b7f29885685 mono",children:"emails/index.tsx"}),"."," ",(0,t.jsx)("a",{href:"https://github.com/successor-software/mailing#configure-transport",className:"jsx-cfe44b7f29885685",children:"Learn more"})]}),(0,t.jsxs)("form",{onSubmit:k,className:"jsx-cfe44b7f29885685",children:[(0,t.jsx)("input",{"aria-label":"email",type:"email",placeholder:"name@example.com",value:i||"",onChange:v,className:"jsx-cfe44b7f29885685"}),(0,t.jsx)("input",{type:"submit",value:"Send",disabled:!(null===i||void 0===i?void 0:i.length),className:"jsx-cfe44b7f29885685"})]}),x&&(0,t.jsxs)("div",{className:"jsx-cfe44b7f29885685 error",children:["\u26a0 ",x]}),g&&(0,t.jsx)("div",{className:"jsx-cfe44b7f29885685 sending",children:"Sending..."}),!g&&m&&(0,t.jsxs)("div",{className:"jsx-cfe44b7f29885685 last-send",children:["\u2713 Sent at ",null===m||void 0===m?void 0:m.toLocaleTimeString()]}),(0,t.jsx)(s(),{id:"cfe44b7f29885685",children:'.container.jsx-cfe44b7f29885685{max-width:320px;padding-bottom:8px;color:#fff}.container.jsx-cfe44b7f29885685>*.jsx-cfe44b7f29885685{-webkit-font-smoothing:antialiased}form.jsx-cfe44b7f29885685{margin-bottom:8px}input.jsx-cfe44b7f29885685{font-size:14px;background:#333;color:#fff;line-height:120%;padding:8px;border:solid 1px#666;-webkit-border-top-left-radius:2px;-moz-border-radius-topleft:2px;border-top-left-radius:2px;-webkit-border-bottom-left-radius:2px;-moz-border-radius-bottomleft:2px;border-bottom-left-radius:2px}input[type="email"].jsx-cfe44b7f29885685{border-right:none}input[type="email"].jsx-cfe44b7f29885685:hover{outline:none;border:1px solid#bbb;border-right:none}input[type="email"].jsx-cfe44b7f29885685:focus{outline:none;border:1px solid#bbb;border-right:none}.jsx-cfe44b7f29885685::-webkit-input-placeholder{color:#aaa}.jsx-cfe44b7f29885685:-moz-placeholder{color:#aaa}.jsx-cfe44b7f29885685::-moz-placeholder{color:#aaa}.jsx-cfe44b7f29885685:-ms-input-placeholder{color:#aaa}.jsx-cfe44b7f29885685::-ms-input-placeholder{color:#aaa}.jsx-cfe44b7f29885685::placeholder{color:#aaa}input[type="submit"].jsx-cfe44b7f29885685{background-color:#fff;color:#000;font-size:12px;border:none;padding:10px 12px 11px;position:relative;top:-2px;border-image-width:0;-webkit-border-top-left-radius:0px;-moz-border-radius-topleft:0px;border-top-left-radius:0px;-webkit-border-bottom-left-radius:0px;-moz-border-radius-bottomleft:0px;border-bottom-left-radius:0px;-webkit-border-top-right-radius:2px;-moz-border-radius-topright:2px;border-top-right-radius:2px;-webkit-border-bottom-right-radius:2px;-moz-border-radius-bottomright:2px;border-bottom-right-radius:2px;-webkit-transition:box-shadow 200ms ease-out;-moz-transition:box-shadow 200ms ease-out;-o-transition:box-shadow 200ms ease-out;transition:box-shadow 200ms ease-out}input[type="submit"].jsx-cfe44b7f29885685:hover{cursor:pointer;background:#fafa98}input[type="submit"].jsx-cfe44b7f29885685:active{-webkit-box-shadow:inset 0 0 12px rgba(0,0,0,.75);-moz-box-shadow:inset 0 0 12px rgba(0,0,0,.75);box-shadow:inset 0 0 12px rgba(0,0,0,.75)}a.jsx-cfe44b7f29885685{-webkit-transition:background-color,-webkit-transform 200ms ease-out;-moz-transition:background-color,-moz-transform 200ms ease-out;-o-transition:background-color,-o-transform 200ms ease-out;transition:background-color,-webkit-transform 200ms ease-out;transition:background-color,-moz-transform 200ms ease-out;transition:background-color,-o-transform 200ms ease-out;transition:background-color,transform 200ms ease-out;display:inline-block;color:#fff}a.jsx-cfe44b7f29885685:hover{background:#fadf98;color:#333}a.jsx-cfe44b7f29885685:active{-webkit-transform:translateY(2px);-moz-transform:translateY(2px);-ms-transform:translateY(2px);-o-transform:translateY(2px);transform:translateY(2px)}h3.jsx-cfe44b7f29885685{font-weight:700;font-size:16px;margin:4px 0 12px}.subtitle.jsx-cfe44b7f29885685{font-size:12px;margin-top:-4px;margin-bottom:16px;line-height:130%;max-width:288px}.mono.jsx-cfe44b7f29885685{font-family:Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace}.error.jsx-cfe44b7f29885685,.sending.jsx-cfe44b7f29885685,.last-send.jsx-cfe44b7f29885685{font-size:12px}.sending.jsx-cfe44b7f29885685,.last-send.jsx-cfe44b7f29885685{color:#a4f59c}'})]})},u=function(e){var o=e.title,a=e.previewFunction,r=e.previewClass,n=(e.isMobile,e.setIsMobile),c=(e.previous,e.next,e.helpContent);return(0,t.jsxs)("div",{id:"header",className:"jsx-a03daa077c28fc20",children:[(0,t.jsx)(i(),{href:"/",children:(0,t.jsx)("a",{id:"index",className:"jsx-a03daa077c28fc20",children:(0,t.jsx)("span",{className:"jsx-a03daa077c28fc20",children:"Index"})})}),(0,t.jsx)("div",{id:"email-container",className:"jsx-a03daa077c28fc20",children:(0,t.jsx)("div",{id:"current",className:"jsx-a03daa077c28fc20",children:o})}),(0,t.jsxs)("div",{id:"utilities",className:"jsx-a03daa077c28fc20",children:[(0,t.jsx)("button",{id:"desktop",onClick:function(){return n(!1)},className:"jsx-a03daa077c28fc20",children:(0,t.jsx)("span",{className:"jsx-a03daa077c28fc20",children:"Desktop"})}),(0,t.jsx)("button",{id:"mobile",onClick:function(){return n(!0)},className:"jsx-a03daa077c28fc20",children:"Mobile"}),(0,t.jsx)(l,{trigger:function(e,o){return(0,t.jsx)("button",{id:"help",onClick:function(){return o((function(e){return!e}))},className:"jsx-a03daa077c28fc20",children:e?(0,t.jsx)("span",{className:"jsx-a03daa077c28fc20 close",children:"\xd7"}):"?"})},content:c}),(0,t.jsx)(l,{trigger:function(e,o){return(0,t.jsx)("button",{id:"send",onClick:function(){return o((function(e){return!e}))},className:"jsx-a03daa077c28fc20",children:e?(0,t.jsx)("span",{className:"jsx-a03daa077c28fc20 close",children:"\xd7"}):(0,t.jsx)("img",{src:"https://s3.amazonaws.com/lab.campsh.com/Group+141%402x.png",height:"12",width:"12",className:"jsx-a03daa077c28fc20"})})},content:(0,t.jsx)(p,{previewFunction:a,previewClass:r})})]}),(0,t.jsx)(s(),{id:"a03daa077c28fc20",children:"#header.jsx-a03daa077c28fc20{height:64px;border-bottom:solid 1px#ccc;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:0 22px 0 24px;-webkit-font-smoothing:antialiased}#index.jsx-a03daa077c28fc20{font-size:14px}#email-container.jsx-a03daa077c28fc20,#utilities.jsx-a03daa077c28fc20,#index.jsx-a03daa077c28fc20{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}button.jsx-a03daa077c28fc20{background:#fff;height:40px;font-size:12px;border:solid 1px#ccc;padding:12px;-webkit-transition:background-color,box-shadow 200ms ease-out;-moz-transition:background-color,box-shadow 200ms ease-out;-o-transition:background-color,box-shadow 200ms ease-out;transition:background-color,box-shadow 200ms ease-out;line-height:1;text-align:center}a.jsx-a03daa077c28fc20{-webkit-transition:background-color,-webkit-transform 200ms ease-out;-moz-transition:background-color,-moz-transform 200ms ease-out;-o-transition:background-color,-o-transform 200ms ease-out;transition:background-color,-webkit-transform 200ms ease-out;transition:background-color,-moz-transform 200ms ease-out;transition:background-color,-o-transform 200ms ease-out;transition:background-color,transform 200ms ease-out}a.jsx-a03daa077c28fc20:hover span.jsx-a03daa077c28fc20,button.jsx-a03daa077c28fc20:hover{cursor:pointer;background:#fafa98}button.jsx-a03daa077c28fc20:active{-webkit-box-shadow:inset 0 0 12px rgba(0,0,0,.5);-moz-box-shadow:inset 0 0 12px rgba(0,0,0,.5);box-shadow:inset 0 0 12px rgba(0,0,0,.5)}a.jsx-a03daa077c28fc20:active{-webkit-transform:translateY(2px);-moz-transform:translateY(2px);-ms-transform:translateY(2px);-o-transform:translateY(2px);transform:translateY(2px)}#email-container.jsx-a03daa077c28fc20{text-align:center}#current.jsx-a03daa077c28fc20{font-size:14px}#utilities.jsx-a03daa077c28fc20{text-align:end}#desktop.jsx-a03daa077c28fc20{margin-right:0;border-right:none;-webkit-border-top-left-radius:2px;-moz-border-radius-topleft:2px;border-top-left-radius:2px;-webkit-border-bottom-left-radius:2px;-moz-border-radius-bottomleft:2px;border-bottom-left-radius:2px}#mobile.jsx-a03daa077c28fc20{margin-right:0;margin-left:0;-webkit-border-top-right-radius:2px;-moz-border-radius-topright:2px;border-top-right-radius:2px;-webkit-border-bottom-right-radius:2px;-moz-border-radius-bottomright:2px;border-bottom-right-radius:2px}#help.jsx-a03daa077c28fc20{margin-right:6px;margin-left:8px}#help.jsx-a03daa077c28fc20,#send.jsx-a03daa077c28fc20{width:40px;-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;line-height:10px}#send.jsx-a03daa077c28fc20{margin:0}#send.jsx-a03daa077c28fc20 img.jsx-a03daa077c28fc20{position:relative;top:1px}.close.jsx-a03daa077c28fc20{font-size:16px;line-height:10px;position:relative;left:1px}@media(max-width:768px){#desktop.jsx-a03daa077c28fc20,#mobile.jsx-a03daa077c28fc20,#help.jsx-a03daa077c28fc20{display:none}#email-container.jsx-a03daa077c28fc20{-webkit-box-flex:6;-webkit-flex:6;-moz-box-flex:6;-ms-flex:6;flex:6}}"})]})}},4782:function(e,o,a){a.d(o,{Z:function(){return d}});var t=a(2322),r=a(4091),s=a.n(r),n=a(2784),i=a(5632),c=a(2613);var d=function(e){var o=e.isMobile,a=e.setIsMobile,r=e.src,d=e.srcDoc,l=function(e){var o=e.setIsMobile,a=(0,i.useRouter)(),t=(0,n.useCallback)((function(e){"/"===e.key?a.push("/"):"m"===e.key?o(!0):"d"===e.key?o(!1):"."===e.key?o((function(e){return!e})):"ArrowRight"===e.key||"right"===e.key||"ArrowLeft"===e.key||e.key}),[a]);return(0,c.y1)("m,d,.,left,right,/",t),{iframeRef:(0,n.useCallback)((function(e){null!==e&&(e.onload=function(){var o,a=null===e||void 0===e||null===(o=e.contentWindow)||void 0===o?void 0:o.document;null===a||void 0===a||a.addEventListener("keydown",t)})}),[t])}}({setIsMobile:a}).iframeRef;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"jsx-29604b2be0f078fd "+"frame ".concat(o?" mobile":""),children:(0,t.jsx)("iframe",{src:r,srcDoc:d,ref:l,className:"jsx-29604b2be0f078fd"})}),(0,t.jsx)(s(),{id:"29604b2be0f078fd",children:".frame.jsx-29604b2be0f078fd{margin:auto;display:block}.mobile.frame.jsx-29604b2be0f078fd{padding:64px 16px 74px;max-width:324px;-webkit-border-radius:32px;-moz-border-radius:32px;border-radius:32px;margin:64px auto}.mobile.jsx-29604b2be0f078fd iframe.jsx-29604b2be0f078fd{height:568px;max-width:320px}iframe.jsx-29604b2be0f078fd{width:100%;border:none;height:-webkit-calc(100vh - 65px);height:-moz-calc(100vh - 65px);height:calc(100vh - 65px)}.mobile.jsx-29604b2be0f078fd,.mobile.jsx-29604b2be0f078fd iframe.jsx-29604b2be0f078fd{border:2px solid#ccc}"})]})}}}]);